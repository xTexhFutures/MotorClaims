@using CORE.DTOs.APIs.MotorClaim;
@using CORE.DTOs.APIs.Setups.MMP;
@using CORE.DTOs.MotorClaim;
@using CORE.DTOs.MotorClaim.Claims;
@{
    Production policy = (Production)ViewData["Policy"];
    VehicleInfos vehicle = (VehicleInfos)ViewData["Vehicle"];
    List<DDL> dClaimantType = (List<DDL>)ViewData["ClaimantType"];
    List<DDL> dClaimantResult = (List<DDL>)ViewData["ClaimantResult"];
    List<DDL> dClaimCause = (List<DDL>)ViewData["ClaimCause"];
}
@model Claimants
<form method="post" asp-action="InsertClaimant" asp-controller="Claims">
    <input type="hidden" name="PolicyId" value="@policy.policy.Id" />
    <input type="hidden" name="VehicleId" value="@vehicle.Vehicle.Id" />
    <input type="hidden" name="Id" value="@(Model!=null? Model.Id:0)" />
    <input type="hidden" name="ClaimId" value="@Model.ClaimId" />
    <input type="hidden" name="Serial" value="@(Model!=null? Model.Serial:0)" />


    <div class="add-member-detail" style="max-height:900px;overflow-y:auto">
        <div class="page-heading">
            <h2 class="page-title">Claim Entry</h2>
        </div>
        <div class="tabs-wrapper">
            <ul class="tabs-navigation-wrap">
                <li class="tab-navigation tab-custom-two active" id="tabTwoOne" onclick="selectTabsTwo('tabTwoOne','one_1')">
                    <div class="tab-item-text">
                        Claimant entry
                    </div>
                </li>
                <li class="tab-navigation tab-custom-two " id="tabTwoTwo" onclick="selectTabsTwo('tabTwoTwo','ClaimantsList'); LoadClaimantsList('@Model.ClaimId')">
                    <div class="tab-item-text">
                        Claimants List
                    </div>
                </li>
            </ul>
            <div class="tabbs-content-wrapper">
                <div class="tab-items-container tabs-one-content-two active" id="one_1">

                    <div class="member-summary-container">
                        <div class="total-member-list">
@*                            <h4 class="title">
                                <h4 class="title">Claimant Entry</h4>
                            </h4>*@
                            <div class="member-list-container">
                                <div class="member-collapse">
                                    <div class="member-collapse-header" style="display:block">
                                        <div class="vehicle-owner-grid">
                                            <div class="form-container Full">
                                                <span class="label">Claimant Type</span>
                                                <select class="form-controlar" required name="ClaimantType" id="ddlClaimantType">
                                                    <option value=""></option>
                                                    @foreach (var item in dClaimantType)
                                                    {
                                                        <option value="@item.Id">@item.NameEnglish</option>
                                                    }
                                                </select>
                                            </div>
                                            <div class="form-container Full">
                                                <span class="label">Claimant Result</span>
                                                <select class="form-controlar" required name="ClaimantResult" id="ddlClaimantResult">
                                                    <option value=""></option>
                                                    @foreach (var item in dClaimantResult)
                                                    {
                                                        <option value="@item.Id">@item.NameEnglish</option>
                                                    }
                                                </select>
                                            </div>
                                            <div class="form-container Full">
                                                <span class="label">Main Claim Cause</span>
                                                <select class="form-controlar" required name="ClaimCause" id="ddlClaimCause">
                                                    <option value=""></option>
                                                    @foreach (var item in dClaimCause)
                                                    {
                                                        <option value="@item.Id">@item.NameEnglish</option>
                                                    }
                                                </select>
                                            </div>
                                            <div class="form-container Full">
                                                <span class="label">Sub Claim Cause</span>
                                                <select class="form-controlar" required name="ClaimSubCause" id="ddlClaimSubCause">
                                                    <option value=""></option>
                                                    <option value="1">Riyadh</option>
                                                    <option value="2">Jedh</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="vehicle-owner-grid">

                                            <div class="vehicle-owner-grid" style="width:100%">
                                                <div class="checkbox-wrapper-34">
                                                    <span class="label">Is Customer</span>
                                                    <input class='tgl tgl-ios' name="IsCustomer" id="IsCustomer" type='checkbox' value="true" @(Model.IsCustomer.HasValue && Model.IsCustomer.Value ? "checked" : "")>
                                                    <label class='tgl-btn' for='IsCustomer'></label>
                                                </div>
                                            </div>
                                            <div class="form-container Full" id="najm">
                                                <span class="label">Claimant Name</span>
                                                <input class="form-controlar" autocomplete="off" type="text" id="txtClaimantName" maxlength="150" placeholder="Claimant Name" name="ClaimantName" />
                                            </div>

                                            <div class="form-container Full">
                                                <span class="label">National ID</span>
                                                <input class="form-controlar" autocomplete="off" type="text" id="txtNationalId" maxlength="10" placeholder="National Id" name="NationalId" value="@Model.NationalId" />
                                            </div>
                                            <div class="form-container Full">
                                                <span class="label">Our %</span>
                                                <select class="form-controlar" name="OurPercent" id="ddlOurPercent">
                                                    <option value=""></option>
                                                    <option value="0">0</option>
                                                    <option value="25">25</option>
                                                    <option value="50">50</option>
                                                    <option value="75">75</option>
                                                    <option value="100">100</option>
                                                </select>
                                            </div>


                                        </div>
                                        <div class="vehicle-owner-grid">

                                            <div class="form-container Full">
                                                <span class="label">Responsipility</span>
                                                <input class="form-controlar" readonly autocomplete="off" type="text" id="txtResponsipility" placeholder="Responsipility" name="Responsipility" value="@Model.Responsipility" />
                                            </div>
                                            <div class="form-container Full">
                                                <span class="label">Mobile</span>
                                                <input class="form-controlar" autocomplete="off" type="text" maxlength="9" id="txtMobileNo" placeholder="5XXXXXXXX" name="MobileNo" value="@Model.MobileNo" />
                                            </div>
                                            <div class="form-container Full">
                                                <span class="label">Driver Name</span>
                                                <input class="form-controlar" autocomplete="off" type="text" maxlength="150" id="txtDriverName" placeholder="Driver Name" name="DriverName" value="@Model.DriverName" />
                                            </div>

                                            <div class="form-container Full">
                                                <span class="label">Owner Name</span>
                                                <input class="form-controlar" autocomplete="off" type="text" maxlength="150" id="txtOwnerName" placeholder="Owner Name" name="OwnerName" value="@Model.OwnerName" />
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>



                    </div>

                    <div class="member-summary-container">
                        <div class="total-member-list">
                            <div class="member-list-container">
                                <div class="member-collapse">
                                    <div class="member-collapse-header" style="display:block">


                                        <div class="vehicle-owner-grid">
                                            <div class="form-container Full">
                                                <span class="label">Driver Birth Date</span>
                                                <input class="form-controlar calendar-input" autocomplete="off" required type="text" placeholder="Driver Birth Date" id="txtDriverBirthDate" name="DriverBirthDate" value="@(Model.DriverBirthDate.HasValue? HelpersDate.FormatDateNoTime(Model.DriverBirthDate.Value):string.Empty)" />
                                            </div>
                                            <div class="form-container Full">
                                                <span class="label">Age</span>
                                                <input class="form-controlar" readonly autocomplete="off" required type="text" maxlength="3" placeholder="Driver Age" id="txtDriverAge" name="DriverAge" value="@Model.DriverAge" />
                                            </div>
                                            <div class="form-container Full">
                                                <span class="label">Driver License Expiry</span>
                                                <input class="form-controlar calendar-input" autocomplete="off" required type="text" placeholder="Driver License Expiry Date" id="txtDriverLicenseExpiryDate" name="DriverLicenseExpiryDate" value="@(Model.DriverLicenseExpiryDate.HasValue? HelpersDate.FormatDateNoTime(Model.DriverLicenseExpiryDate.Value):string.Empty)" />
                                            </div>
                                            <div class="form-container Full">
                                                <span class="label">Driver National Id</span>
                                                <input class="form-controlar" autocomplete="off" type="text" maxlength="10" id="txtDriverNationalId" placeholder="Driver National Id" name="DriverNationalId" value="@Model.DriverNationalId" />
                                            </div>
                                        </div>
                                        <div class="vehicle-owner-grid">
                                            <div class="vehicle-owner-grid" style="width:100%">
                                                <div class="checkbox-wrapper-34">
                                                    <span class="label">Survey Required</span>
                                                    <input class='tgl tgl-ios' name="IsSurveyRequired" id="IsSurveyRequired" type='checkbox' value="true" @(Model.IsSurveyRequired.HasValue && Model.IsSurveyRequired.Value ? "checked" : "")>
                                                    <label class='tgl-btn' for='IsSurveyRequired'></label>
                                                </div>
                                            </div>

                                            <div class="vehicle-owner-grid" style="display:contents !important">
                                                <span class="label">Beneficiary Type</span>
                                                <label for="BeneficiaryType1" class="radio-card-v2" style="min-width:20% !important">
                                                    <input type="radio" value="1" name="BeneficiaryType" id="BeneficiaryType1" @(Model.BeneficiaryType.HasValue && Model.BeneficiaryType.Value == 1 ? "checked" : "") />
                                                    <div class="card-content-wrapper">
                                                        <span class="check-icon"></span>
                                                        <div class="card-content">
                                                            <h4 class="title">Financial Institution</h4>
                                                        </div>
                                                    </div>
                                                </label>
                                                <!-- /.radio-card -->

                                                <label for="BeneficiaryType2" class="radio-card-v2" style="min-width:20% !important">
                                                    <input type="radio" value="2" name="BeneficiaryType" id="BeneficiaryType2" @(Model.Id == 0 ? "checked" : (Model.BeneficiaryType.HasValue && Model.BeneficiaryType.Value == 2 ? "checked" : "")) />
                                                    <div class="card-content-wrapper">
                                                        <span class="check-icon"></span>
                                                        <div class="card-content">
                                                            <h4 class="title">Other</h4>
                                                        </div>
                                                    </div>
                                                </label>

                                            </div>
                                            <div class="form-container Full">
                                                <span class="label">Owner National Id</span>
                                                <input class="form-controlar" autocomplete="off" type="text" maxlength="10" id="txtOwnerNationalId" placeholder="Owner National Id" name="OwnerNationalId" value="@Model.OwnerNationalId" />
                                            </div>

                                            <div class="form-container Full">
                                                <span class="label">Sequance No</span>
                                                <input class="form-controlar" autocomplete="off" type="text" maxlength="20" id="txtSequenceNo" placeholder="Sequence No" name="SequenceNo" value="@Model.SequenceNo" />
                                            </div>


                                        </div>
                                        <div class="vehicle-owner-grid">
                                            <div class="form-container Full" id="najm">
                                                <span class="label">Beneficiary Name</span>
                                                <input class="form-controlar" autocomplete="off" type="text" id="txtBenefecieryName" maxlength="150" placeholder="Beneficiary Name" name="BenefecieryName" value="@Model.BenefecieryName" />
                                            </div>
                                            <div class="form-container Full">
                                                <span class="label">IBAN No</span>
                                                <input class="form-controlar" autocomplete="off" type="text" id="txtIban" maxlength="50" placeholder="IBAN No" name="Iban" value="@Model.Iban" />
                                            </div>
                                            <div class="form-container Full">
                                                <span class="label">Bank Name</span>
                                                <input class="form-controlar" autocomplete="off" type="text" id="txtBankName" maxlength="50" placeholder="Bank Name" name="BankName" value="@Model.BankName" />
                                            </div>
                                            <div class="form-container Full">
                                                <span class="label">Vehicle Make</span>
                                                <input class="form-controlar ui-autocomplete-input" autocomplete="off" type="text" id="txtMakeDesc" placeholder="Vehicle Make" name="MakeDesc" value="@Model.MakeDesc" />
                                                <input class="form-controlar" type="hidden" id="txtMakeId" name="MakeId" value="@Model.MakeId" />
                                            </div>
                                        </div>
                                        <div class="vehicle-owner-grid">

                                            <div class="form-container Full">
                                                <span class="label">Vehicle Model</span>
                                                <input class="form-controlar ui-autocomplete-input" autocomplete="off" type="text" id="txtModelDesc" placeholder="Vehicle Model" name="ModelDesc" value="@Model.ModelDesc" />
                                                <input class="form-controlar" type="hidden" id="txtModelId" name="ModelId" value="@Model.ModelId" />
                                            </div>
                                            <div class="form-container Full">
                                                <span class="label">Production Year</span>
                                                <input class="form-controlar" autocomplete="off" type="text" maxlength="4" id="txtManifacturing" placeholder="Production Year" name="Manifacturing" value="@Model.Manifacturing" />
                                            </div>

                                            <div class="form-container Full">
                                                <span class="label">Vehicle Color</span>
                                                <input class="form-controlar ui-autocomplete-input" autocomplete="off" type="text" id="txtColorDesc" placeholder="Vehicle Color" name="ColorDesc" value="@Model.ColorDesc" />
                                                <input class="form-controlar" type="hidden" id="txtColorId" name="ColorId" value="@Model.ColorId" />
                                            </div>
                                            <div class="form-container Full">
                                                <span class="label">Plate No</span>
                                                <input class="form-controlar" autocomplete="off" type="text" id="txtPlateNo" placeholder="Plate No" name="PlateNo" value="@Model.PlateNo" />
                                            </div>
                                            <div class="form-container Full">
                                                <span class="label">Chassis Number</span>
                                                <input class="form-controlar" autocomplete="off" type="text" id="txtChassisNo" placeholder="Chassis Number" name="ChassisNo" value="@Model.ChassisNo" />
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>


                    </div>

                    <div class="footer-actions-handle">
                        <div class="next-button" style="margin-right:5px">
                            <button type="submit" class="button button-primary">
                                Add New Claimant
                            </button>
                        </div>
                        <div class="next-button">
                            <button type="submit" class="button button-primary">
                                Next
                            </button>
                        </div>
                    </div>

                </div>

                <div class="tab-items-container tabs-one-content-two" id="ClaimantsList">
                </div>
            </div>
           
        </div>
    </div>


</form>




<div class="aside-right">
    <div class="inner-wrapper">
        <div class="vehicle-item">
            <div class="vehicle-header">
                <img src="/assets/motor/motor.svg" class="vehicle-icon" />
                <div class="vehicle-info">
                    <span class="vehicle-name">@vehicle.Vehicle.MakeDesc @vehicle.Vehicle.ModelDesc / @vehicle.Vehicle.SequanceNo @vehicle.Vehicle.CustomNo</span>
                    <span class="vehicle-no" style="text-transform:uppercase">Plate Number : @vehicle.Vehicle.PlateNo</span>
                </div>
            </div>
            <div class="vehicle-basic-body">
                <ul class="detail-list">
                    <li class="detailed-item">
                        <span class="detailed-icon-wrap">
                            <img src="/assets/icons/save.svg" alt="" class="item-icon">
                        </span>
                        <div class="item-content">
                            <span class="label">Policy No</span>
                            <h3 class="value">@policy.policy.PolicyNumber</h3>
                        </div>
                    </li>
                    <li class="detailed-item">
                        <span class="detailed-icon-wrap">
                            <img src="/assets/icons/calendar.svg" alt="" class="item-icon">
                        </span>
                        <div class="item-content">
                            <span class="label">Effective Date</span>
                            <h3 class="value">@HelpersDate.FormatDateNoTime(policy.policy.PolicyEffectiveDate)</h3>
                        </div>
                    </li>
                    <li class="detailed-item">
                        <span class="detailed-icon-wrap">
                            <img src="/assets/icons/calendar.svg" alt="" class="item-icon">
                        </span>
                        <div class="item-content">
                            <span class="label">Year of Manufacturing</span>
                            <h3 class="value">@vehicle.Vehicle.ManufactureYear</h3>
                        </div>
                    </li>
                    <li class="detailed-item">
                        <span class="detailed-icon-wrap">
                            <img src="/assets/icons/calendar.svg" alt="" class="item-icon">
                        </span>
                        <div class="item-content">
                            <span class="label">Expiry Date</span>
                            <h3 class="value">@HelpersDate.FormatDateNoTime(policy.policy.PolicyExpiryDate)</h3>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>


<div id="health-m-modal" class="health-custom-modal"></div>

<script>
    $('#ddlClaimantResult').val('@Model.ClaimantResult');
    $('#ddlClaimantType').val('@Model.ClaimantType');
    $('#dlClaimCause').val('@Model.ClaimCause');
    $('#ddlClaimSubCause').val('@Model.ClaimSubCause');
    $('#ddlOurPercent').val('@Model.OurPercent');


    $('#txtNationalId').ForceIntegerEntry();
    $('#txtDriverNationalId').ForceIntegerEntry();
    $('#txtOwnerNationalId').ForceIntegerEntry();
    $('#txtSequenceNo').ForceIntegerEntry();
    $('#txtMobileNo').ForceIntegerEntry();
    $('#txtDriverAge').ForceIntegerEntry();
    $('#txtManifacturing').ForceIntegerEntry();

    $('#txtDriverBirthDate').ForceDateEntry();
    $('#txtDriverLicenseExpiryDate').ForceDateEntry();
</script>



